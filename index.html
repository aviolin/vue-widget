<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget Dev App</title>
    <script>
      (function(w,d,s,o,f,lf,js,fjs){w[o]=w[o]||function(){(w[o].q=w[o].q||[]).push(arguments)};
        js=d.createElement(s),fjs=d.getElementsByTagName(s)[0];
        js.id=o;js.src=f;js.async=1;fjs.parentNode.insertBefore(js,fjs);
        l=d.createElement('link');l.rel='preload';l.as='style';l.href=lf;fjs.parentNode.insertBefore(l,fjs);
      }(window, document, 'script', '_mywidget', './dist/assets/widget.js', './dist/assets/widget.css'));
      _mywidget('init', { debug: true, elementId: 'MyWidget', stylesheets: './dist/assets/widget.css' });
    </script>
    <style>p{color:blue}</style>
  </head>
  <body>

    <h1>Widget test app</h1>
    <h2>Introduction paragraph</h2>
    <p>P tags are set to be blue. P tags inside the widget are isolated from CSS via the shadow dom.</p>
    <h2>Here's the embedded element wrapper: </h2>

    <div id="MyWidget"></div>

    <h2>Here's some stuff after the embedded script tag.</h2>
    <p>Try changing the widget background color.</p>
    <form id="testForm">
      <label for="name">Background Color</label>
      <input type="text" id="backgroundColor" name="background-color" placeholder="#345" value="#345">
      <input type="submit" value="Apply">
    </form>
    <script>
      testForm?.addEventListener('submit', function(e) {
        e.preventDefault();
        _mywidget('update', { 'background-color': testForm.querySelector('#backgroundColor').value });
      });
    </script>
  </body>
</html>
